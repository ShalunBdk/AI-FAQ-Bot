# ü§ñ FAQ Telegram Bot

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤.

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üéØ –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫** - –±–æ—Ç –ø–æ–Ω–∏–º–∞–µ—Ç —Å–º—ã—Å–ª –≤–æ–ø—Ä–æ—Å–∞, –¥–∞–∂–µ –µ—Å–ª–∏ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ FAQ** - —É–¥–æ–±–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º
- **–ü–æ—Ö–æ–∂–∏–µ –≤–æ–ø—Ä–æ—Å—ã** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** - –∫–Ω–æ–ø–∫–∏ "–ü–æ–ª–µ–∑–Ω–æ" / "–ù–µ –ø–æ–º–æ–≥–ª–æ" –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞
- **–£–º–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞** - user-level rate limiting, debouncing –∫–Ω–æ–ø–æ–∫
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** - –ø–æ–Ω—è—Ç–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### ‚öôÔ∏è –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- **Web-–∞–¥–º–∏–Ω–∫–∞** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ FAQ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
- **–ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –ª–æ–≥–∏** - –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- **–§–∏–ª—å—Ç—Ä "–ë–µ–∑ –æ—Ç–≤–µ—Ç–∞"** - –Ω–∞–π–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å FAQ
- **–≠–∫—Å–ø–æ—Ä—Ç –≤ CSV** - –≤—ã–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–∞ —Å—Ö–æ–∂–µ—Å—Ç–∏** - –≥–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏ –æ—Ç–≤–µ—Ç–æ–≤
- **–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π** - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤ –±–æ—Ç–∞

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –µ–≥–æ
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ —É–∫–∞–∂–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
nano .env
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```env
TELEGRAM_TOKEN=your_bot_token_from_BotFather
```

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```env
MODEL_NAME=paraphrase-multilingual-MiniLM-L12-v2  # –ú–æ–¥–µ–ª—å –¥–ª—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
SIMILARITY_THRESHOLD=45  # –ü–æ—Ä–æ–≥ —Å—Ö–æ–∂–µ—Å—Ç–∏ (30-70, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 45)
```

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞

1. –ù–∞–ø–∏—à–∏—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/newbot`
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –≤ `.env`

### 4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–æ–∑–¥–∞—Å—Ç SQLite –±–∞–∑—É –∏ –¥–æ–±–∞–≤–∏—Ç –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
python migrate_data.py
```

### 5. –ó–∞–ø—É—Å–∫

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
python bot.py

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∞–¥–º–∏–Ω–∫—É
python web_admin.py
```

**–ì–æ—Ç–æ–≤–æ!** üéâ
- –ë–æ—Ç: —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Telegram
- –ê–¥–º–∏–Ω–∫–∞: http://localhost:5000

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
FAQBot/
‚îú‚îÄ‚îÄ bot.py                  # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ Telegram-–±–æ—Ç–∞
‚îú‚îÄ‚îÄ web_admin.py           # Flask –≤–µ–±-–∞–¥–º–∏–Ω–∫–∞
‚îú‚îÄ‚îÄ database.py            # –†–∞–±–æ—Ç–∞ —Å SQLite –ë–î
‚îú‚îÄ‚îÄ migrate_data.py        # –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ logging_config.py      # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ .env                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Å–æ–∑–¥–∞–π—Ç–µ –∏–∑ .env.example)
‚îú‚îÄ‚îÄ .env.example           # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ faq_database.db        # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ chroma_db/             # –í–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ ChromaDB
‚îú‚îÄ‚îÄ templates/             # HTML —à–∞–±–ª–æ–Ω—ã –∞–¥–º–∏–Ω–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ index.html        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ FAQ
‚îÇ   ‚îú‚îÄ‚îÄ logs.html         # –õ–æ–≥–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ settings.html     # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
‚îî‚îÄ‚îÄ README.md             # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–æ—Ä–æ–≥ —Å—Ö–æ–∂–µ—Å—Ç–∏ (SIMILARITY_THRESHOLD)

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç —Å—Ö–æ–∂–µ—Å—Ç–∏ –¥–ª—è –ø–æ–∫–∞–∑–∞ –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

| –ó–Ω–∞—á–µ–Ω–∏–µ | –ü–æ–≤–µ–¥–µ–Ω–∏–µ | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|----------|-----------|-------------------|
| **30-40** | üü¢ –ú—è–≥–∫–∏–π | FAQ –º–∞–ª–æ, –Ω—É–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ö–æ—Ç—å —á—Ç–æ-—Ç–æ |
| **45-50** | üü° –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π | **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |
| **60-70** | üî¥ –°—Ç—Ä–æ–≥–∏–π | –ö—Ä–∏—Ç–∏—á–Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å, –ª—É—á—à–µ –Ω–µ –æ—Ç–≤–µ—á–∞—Ç—å —á–µ–º –æ—à–∏–±–∏—Ç—å—Å—è |

**–ö–∞–∫ –ø–æ–¥–æ–±—Ä–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É ‚Üí –õ–æ–≥–∏
2. –í–∫–ª—é—á–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä "‚ùå –¢–æ–ª—å–∫–æ –±–µ–∑ –æ—Ç–≤–µ—Ç–∞"
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã —Å –ø—Ä–æ—Ü–µ–Ω—Ç–æ–º 40-60%
4. –ï—Å–ª–∏ —Ç–∞–º –º–Ω–æ–≥–æ —Ö–æ—Ä–æ—à–∏—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π ‚Üí –ø–æ–Ω–∏–∑—å—Ç–µ –ø–æ—Ä–æ–≥
5. –ï—Å–ª–∏ –º—É—Å–æ—Ä –∏ –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–µ ‚Üí –æ—Å—Ç–∞–≤—å—Ç–µ –∫–∞–∫ –µ—Å—Ç—å –∏–ª–∏ –ø–æ–≤—ã—Å—å—Ç–µ

### –ú–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (MODEL_NAME)

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `paraphrase-multilingual-MiniLM-L12-v2`:
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞
- ‚úÖ –•–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –¥–ª—è FAQ

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏:**
```env
# –î–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ (–º–µ–¥–ª–µ–Ω–Ω–µ–µ, –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏):
MODEL_NAME=sentence-transformers/paraphrase-multilingual-mpnet-base-v2

# –î–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–π —Ä–∞–±–æ—Ç—ã (—Ö—É–∂–µ –∫–∞—á–µ—Å—Ç–≤–æ):
MODEL_NAME=sentence-transformers/paraphrase-MiniLM-L3-v2
```

## üé® Web-–∞–¥–º–∏–Ω–∫–∞

–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5000 –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ `web_admin.py`

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã

#### 1. üìö –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ FAQ
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞
- –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ

#### 2. üìä –õ–æ–≥–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –§–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–µ, —Ä–µ–π—Ç–∏–Ω–≥—É, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- **–§–∏–ª—å—Ç—Ä "–ë–µ–∑ –æ—Ç–≤–µ—Ç–∞"** - –Ω–∞–π—Ç–∏ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

#### 3. ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –¢–µ–∫—Å—Ç—ã –∫–Ω–æ–ø–æ–∫ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
- –û—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Ü–µ–Ω–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### 4. üîÑ –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ
–ö–Ω–æ–ø–∫–∞ **"–ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π"**:
- –û–±–Ω–æ–≤–ª—è–µ—Ç –≤–µ–∫—Ç–æ—Ä–Ω—É—é –±–∞–∑—É ChromaDB
- –ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è FAQ

## üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–æ–∫

### User-level Rate Limiting
- –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω —á–∞—Å—Ç–æ—Ç–æ–π –∑–∞–ø—Ä–æ—Å–æ–≤ (0.3—Å –º–µ–∂–¥—É –¥–µ–π—Å—Ç–≤–∏—è–º–∏)
- –°–ø–∞–º–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –∫—É–ª–¥–∞—É–Ω, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –ó–∞—â–∏—Ç–∞ –æ—Ç rate limit (429) –æ—Ç Telegram API

### Debouncing –∫–Ω–æ–ø–æ–∫
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∫–ª–∏–∫–∏ –ø–æ —Ç–æ–π –∂–µ –∫–Ω–æ–ø–∫–µ –≤ —Ç–µ—á–µ–Ω–∏–µ 1 —Å–µ–∫—É–Ω–¥—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
- Telegram –∫—ç—à–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç—ã –Ω–∞ 2 —Å–µ–∫—É–Ω–¥—ã

### –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ –±–æ—Ç–∞
- –ü—Ä–∏ 3+ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–∫–∞—Ö –ø–æ–¥—Ä—è–¥ ‚Üí —Å–æ–Ω –Ω–∞ 10 —Å–µ–∫—É–Ω–¥
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### SQLite —Ç–∞–±–ª–∏—Ü—ã

#### `faq` - FAQ –∑–∞–ø–∏—Å–∏
```sql
id, category, question, answer, keywords, created_at, updated_at
```

#### `categories` - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
```sql
id, name
```

#### `query_logs` - –ó–∞–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```sql
id, user_id, username, query_text, timestamp
```

#### `answer_logs` - –ü–æ–∫–∞–∑–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
```sql
id, query_log_id, faq_id, similarity_score, answer_shown, timestamp
```

#### `rating_logs` - –û—Ü–µ–Ω–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```sql
id, answer_log_id, user_id, rating, timestamp
```

#### `bot_settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
```sql
key, value, updated_at
```

### ChromaDB (–≤–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î)
- –•—Ä–∞–Ω–∏—Ç —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç cosine similarity –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤

## üîß –¢–∏–ø–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π FAQ
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É ‚Üí http://localhost:5000
2. –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å FAQ"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É
4. –ù–∞–∂–º–∏—Ç–µ **"–ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π"**

### –ù–∞–π—Ç–∏ –≤–æ–ø—Ä–æ—Å—ã –±–µ–∑ –æ—Ç–≤–µ—Ç–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É ‚Üí –õ–æ–≥–∏
2. –í–∫–ª—é—á–∏—Ç–µ —á–µ–∫–±–æ–∫—Å **"‚ùå –¢–æ–ª—å–∫–æ –±–µ–∑ –æ—Ç–≤–µ—Ç–∞"**
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –∑–∞–ø—Ä–æ—Å–æ–≤
4. –î–æ–±–∞–≤—å—Ç–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ FAQ

### –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä–æ–≥ —Å—Ö–æ–∂–µ—Å—Ç–∏
1. –û—Ç–∫—Ä–æ–π—Ç–µ `.env`
2. –ò–∑–º–µ–Ω–∏—Ç–µ `SIMILARITY_THRESHOLD=45` –Ω–∞ –Ω—É–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: `python bot.py`

### –≠–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É ‚Üí –õ–æ–≥–∏
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã (–¥–∞—Ç–∞, —Ä–µ–π—Ç–∏–Ω–≥ –∏ —Ç.–¥.)
3. –ù–∞–∂–º–∏—Ç–µ **"üì• –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV"**
4. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –≤ Excel/Google Sheets

### –ò–∑–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç—ã –±–æ—Ç–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω–∫—É ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏
2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –Ω—É–∂–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã
3. –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
4. –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ (–±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞)

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–û—à–∏–±–∫–∞: "TELEGRAM_TOKEN –Ω–µ –Ω–∞–π–¥–µ–Ω"**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ .env —Å–æ–∑–¥–∞–Ω –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–∫–µ–Ω
cat .env | grep TELEGRAM_TOKEN
```

**–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥–µ–ª–∏**
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ sentence-transformers
pip install --upgrade sentence-transformers
```

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
```bash
# –í –∫–æ–Ω—Å–æ–ª–∏ –±–æ—Ç–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ –∑–∞–ø—Ä–æ—Å–∞—Ö
# –ï—Å–ª–∏ –Ω–µ—Ç - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä–æ–≥ —Å—Ö–æ–∂–µ—Å—Ç–∏:**
```bash
# –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# ‚öôÔ∏è  –ü–æ—Ä–æ–≥ —Å—Ö–æ–∂–µ—Å—Ç–∏ –¥–ª—è –ø–æ–∫–∞–∑–∞ –æ—Ç–≤–µ—Ç–∞: 45.0%
# –ï—Å–ª–∏ –ø–æ—Ä–æ–≥ —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π - –ø–æ–Ω–∏–∑—å—Ç–µ –≤ .env
```

### –ê–¥–º–∏–Ω–∫–∞ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ web_admin.py –∑–∞–ø—É—â–µ–Ω
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–æ—Ä—Ç 5000 —Å–≤–æ–±–æ–¥–µ–Ω
netstat -an | grep 5000

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç (–≤ web_admin.py —Å—Ç—Ä–æ–∫–∞ 623):
app.run(debug=False, host='0.0.0.0', port=5001)
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é
cp faq_database.db faq_database.db.backup

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É
rm faq_database.db
python migrate_data.py
```

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å —Å —É—Ä–æ–≤–Ω—è–º–∏:
- `INFO` - –æ–±—ã—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- `WARNING` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (rate limit, –Ω–∏–∑–∫–∞—è —Å—Ö–æ–∂–µ—Å—Ç—å)
- `ERROR` - –æ—à–∏–±–∫–∏

**–§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤:**
```
2025-01-11 15:30:45 [INFO] –ó–∞–ø—Ä–æ—Å –æ—Ç –ò–≤–∞–Ω (123456): –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∑–∞—Ä–ø–ª–∞—Ç—É?
2025-01-11 15:30:45 [INFO] –ù–∞–π–¥–µ–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: 3, –ª—É—á—à–∏–π score: 87.5%
```

**–û—Ç–∫–ª—é—á–∏—Ç—å –ª–∏—à–Ω–∏–µ –ª–æ–≥–∏:**
```python
# –í logging_config.py –∏–∑–º–µ–Ω–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å:
configure_root_logger(level=logging.WARNING)
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ production

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ systemd –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞**
```ini
[Unit]
Description=FAQ Telegram Bot
After=network.target

[Service]
Type=simple
User=your_user
WorkingDirectory=/path/to/FAQBot
Environment="PATH=/path/to/venv/bin"
ExecStart=/path/to/venv/bin/python bot.py
Restart=always

[Install]
WantedBy=multi-user.target
```

2. **Nginx –¥–ª—è –∞–¥–º–∏–Ω–∫–∏**
```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
    }
}
```

3. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```env
ENVIRONMENT=production
LOG_LEVEL=WARNING
```

4. **–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã –ë–î**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ cron job –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞
0 3 * * * cp /path/to/faq_database.db /backups/faq_$(date +\%Y\%m\%d).db
```

## üìö –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.8+** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
- **python-telegram-bot** - —Ä–∞–±–æ—Ç–∞ —Å Telegram API
- **sentence-transformers** - –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏
- **ChromaDB** - –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **SQLite** - —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –ë–î –¥–ª—è –ª–æ–≥–æ–≤
- **Flask** - –≤–µ–±-–∞–¥–º–∏–Ω–∫–∞
- **dotenv** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ù–∞—à–ª–∏ –±–∞–≥ –∏–ª–∏ –µ—Å—Ç—å –∏–¥–µ—è? –°–æ–∑–¥–∞–π—Ç–µ Issue –∏–ª–∏ Pull Request!

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è python-telegram-bot](https://docs.python-telegram-bot.org/)
- [Sentence Transformers Models](https://www.sbert.net/docs/pretrained_models.html)
- [ChromaDB Documentation](https://docs.trychroma.com/)

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
