# AI FAQ Bot

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã —Å –∫–∞—Å–∫–∞–¥–Ω—ã–º –ø–æ–∏—Å–∫–æ–º –∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º –ø–æ–Ω–∏–º–∞–Ω–∏–µ–º.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ö–∞—Å–∫–∞–¥–Ω—ã–π –ø–æ–∏—Å–∫ (4 —É—Ä–æ–≤–Ω—è) + RAG –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- üéØ **Exact Match** - —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (100%)
- üîë **Keyword Search** - –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º —Å –ª–µ–º–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π (70-95%)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ–æ—Ä–º —Å–ª–æ–≤ (–ø—Ä–µ—Ç–µ–Ω–∑–∏—é ‚Üí –ø—Ä–µ—Ç–µ–Ω–∑–∏—è)
  - –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö —Å–∫–ª–æ–Ω–µ–Ω–∏–π
- üß† **Semantic Search** - —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ AI (45-70%)
  - –ú–æ–¥–µ–ª—å: **deepvk/USER2-base** (—Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–∞—è, 8K –∫–æ–Ω—Ç–µ–∫—Å—Ç)
  - –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø–µ—Ä–µ—Ñ—Ä–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –≤ Docker volume (–Ω–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è)
- ‚ùå **Fallback** - –≤–µ–∂–ª–∏–≤—ã–π –æ—Ç–∫–∞–∑ —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏
- ü§ñ **RAG Generation** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —É–º–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ LLM
  - Privacy First: –∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è PII –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ –æ–±–ª–∞–∫–æ
  - –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö FAQ
  - –ê–¥–∞–ø—Ç–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö LLM (GPT-4, Claude, Gemini –∏ –¥—Ä.)
  - Retry –º–µ—Ö–∞–Ω–∏–∑–º: 3 –ø–æ–ø—ã—Ç–∫–∏ —Å exponential backoff –ø—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–∫–∞—Ö
  - –£–º–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É—Ç–æ—á–Ω—è—é—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ (clarification) –∏ "–Ω–µ—Ç –æ—Ç–≤–µ—Ç–∞" (no_answer)

### –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç–µ–π (Disambiguation)
- üîÄ **–£–º–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ** - –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ —Ä–∞–∑–Ω–∏—Ü–µ < 7% –º–µ–∂–¥—É —Ç–æ–ø-2 –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏
- ‚úÖ **–í—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - –±–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç 2-3 –ª—É—á—à–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏
- üìä **–ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ–Ω—Ç—ã —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ (–Ω–µ 100%)
- üéØ **–£–º–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** - –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ "–Ω–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤"
- üì± **–ß–∏—Å—Ç—ã–π UI** - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ —É–¥–∞–ª–µ–Ω–∏—è (Bitrix24)

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Web-–∞–¥–º–∏–Ω–∫–∞** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ FAQ, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –ª–æ–≥–∏
  - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ disambiguation (–∫–ª–∏–∫ –¥–ª—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –¥–µ—Ç–∞–ª–µ–π)
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –≤–æ –≤—Å–µ—Ö –ª–æ–≥–∞—Ö
  - Expandable —Å–µ–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–ª–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –±–æ—Ç–∞ (RAG + –æ–±—ã—á–Ω—ã–µ)
  - RAG –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: –º–æ–¥–µ–ª—å, —Ç–æ–∫–µ–Ω—ã, chunks, PII –¥–µ—Ç–µ–∫—Ü–∏—è
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø–∞–º –æ—Ç–≤–µ—Ç–æ–≤: clarification, no_answer, disambiguation
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —Ñ–æ—Ä–º
- **Bitrix24 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - OAuth, –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –≤ –ø–æ—Ä—Ç–∞–ª, —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤
- **–ì–æ—Ä—è—á–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
- **–≠–∫—Å–ø–æ—Ä—Ç –≤ CSV/PDF/Excel** - –≤—ã–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã
- ‚úÖ **Bitrix24** - –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–±–æ—Ç + –≤–µ–±-–∞–¥–º–∏–Ω–∫–∞)
- üîÑ **Telegram** - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**: Python 3.11, Flask
- **AI/ML**:
  - ChromaDB (–≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞)
  - sentence-transformers —Å –º–æ–¥–µ–ª—å—é **deepvk/USER2-base** (149M –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
  - pymorphy3 (–ª–µ–º–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞)
  - **RAG (Retrieval-Augmented Generation)**:
    - OpenRouter API (–¥–æ—Å—Ç—É–ø –∫ GPT-4, Claude, Gemini –∏ –¥—Ä.)
    - natasha (NER –¥–ª—è –∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏ PII)
    - Privacy First –ø–æ–¥—Ö–æ–¥ (–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è email, —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤, –∏–º–µ–Ω)
    - Retry –º–µ—Ö–∞–Ω–∏–∑–º —Å exponential backoff
- **Database**: SQLite —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π
  - –¢–∞–±–ª–∏—Ü–∞ `llm_generations` –¥–ª—è RAG –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ clarification/no_answer —Å–æ—Å—Ç–æ—è–Ω–∏–π
- **Frontend**: Tailwind CSS, Quill editor
- **Deploy**: Docker —Å persistent volumes –¥–ª—è –º–æ–¥–µ–ª–µ–π, Nginx

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### Production (Bitrix24 only)

```bash
# 1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
cp docker.env.production .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç—å BITRIX24_WEBHOOK, BITRIX24_BOT_ID, JWT_SECRET –∏ –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose -f docker-compose.production.yml up -d

# 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å location –±–ª–æ–∫–∏ –∏–∑ nginx-bitrix-only.conf
```

### Development (–≤—Å–µ –±–æ—Ç—ã)

```bash
# 1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env
cp .env.example .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç—å TELEGRAM_TOKEN, BITRIX24_WEBHOOK –∏ –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up -d

# –ò–ª–∏ –≤—ã–±–æ—Ä–æ—á–Ω–æ:
docker-compose --profile telegram up -d      # –¢–æ–ª—å–∫–æ Telegram
docker-compose --profile bitrix24 up -d      # –¢–æ–ª—å–∫–æ Bitrix24
```

## –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

| –°–µ—Ä–≤–∏—Å | URL | –ü–æ—Ä—Ç |
|--------|-----|------|
| –í–µ–±-–∞–¥–º–∏–Ω–∫–∞ | `https://domain.com/faq-admin` | 5000 |
| Bitrix24 webhook | `https://domain.com/faq-bot/webhook/bitrix24` | 5002 |
| Telegram reload | `http://localhost:5001/reload` | 5001 |

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
FAQBot/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ bots/          # Telegram –∏ Bitrix24 –±–æ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ core/          # –ü–æ–∏—Å–∫, –ë–î, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ web/           # Flask –≤–µ–±-–∞–¥–º–∏–Ω–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ api/           # Bitrix24 REST API
‚îú‚îÄ‚îÄ scripts/           # –ú–∏–≥—Ä–∞—Ü–∏–∏, —Ç–µ—Å—Ç—ã, –¥–µ–º–æ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ docs/              # –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ nginx/             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω–∞—è
- **[DEPLOY-BITRIX24.md](DEPLOY-BITRIX24.md)** - —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å Bitrix24 (production)
- **[CLAUDE.md](CLAUDE.md)** - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- **[PRODUCTION-CHECKLIST.md](PRODUCTION-CHECKLIST.md)** - —á–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è (–≤ docs/)
- **[RAG_GUIDE.md](docs/RAG_GUIDE.md)** - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ RAG (Privacy First)
- **[QUICKSTART_RAG.md](docs/QUICKSTART_RAG.md)** - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å RAG –∑–∞ 5 –º–∏–Ω—É—Ç
- [DEPLOYMENT.md](docs/DEPLOYMENT.md) - –æ–±—â–µ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- [DOCKER.md](docs/DOCKER.md) - Docker –≥–∞–π–¥
- [QUICKSTART.md](docs/QUICKSTART.md) - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 5 –º–∏–Ω—É—Ç
- [BITRIX24_ADMIN_INTEGRATION.md](docs/BITRIX24_ADMIN_INTEGRATION.md) - OAuth –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [DOCKER-CPU-OPTIMIZATION.md](docs/DOCKER-CPU-OPTIMIZATION.md) - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–∑–∞ (~1.5 –ì–ë)
- [REVERSE-PROXY-SETUP.md](docs/REVERSE-PROXY-SETUP.md) - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ BASE_PATH

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (.env)

```env
# Bitrix24 (–¥–ª—è production)
BITRIX24_WEBHOOK=https://company.bitrix24.ru/rest/1/KEY/
BITRIX24_BOT_ID=62
BITRIX24_BOT_CLIENT_ID=your_client_id
BITRIX24_HANDLER_URL=https://domain.com/faq-bot/webhook/bitrix24
BITRIX24_DOMAIN=company.bitrix24.ru

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
JWT_SECRET=<—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å: openssl rand -hex 32>
REFRESH_SECRET=<—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å: openssl rand -hex 32>
SECRET_KEY=<—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å: openssl rand -hex 32>

# –†–µ–∂–∏–º
ENVIRONMENT=production

# Telegram (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
TELEGRAM_TOKEN=

# RAG (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —É–º–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤)
RAG_ENABLED=true                                    # –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å RAG
OPENROUTER_API_KEY=sk-or-v1-xxxxx                 # –∫–ª—é—á –¥–ª—è OpenRouter
OPENROUTER_MODEL=openai/gpt-4o-mini               # –º–æ–¥–µ–ª—å LLM (~$0.15/1M —Ç–æ–∫–µ–Ω–æ–≤)
RAG_MAX_TOKENS=1024                                # –º–∞–∫—Å —Ç–æ–∫–µ–Ω–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ
RAG_TEMPERATURE=0.3                                # —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (0.0-1.0)
RAG_MIN_RELEVANCE_SCORE=45.0                       # –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
RAG_MAX_CHUNKS=5                                   # –º–∞–∫—Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
OPENROUTER_MAX_RETRIES=3                           # –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–∫–∞—Ö
OPENROUTER_RETRY_DELAY=2                           # –Ω–∞—á–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (—Å–µ–∫)
```

## –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
# 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
docker exec faqbot-web-admin python scripts/migrate_data.py

# 2. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–µ–º–æ FAQ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
docker exec faqbot-web-admin python scripts/demo_faq.py

# 3. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±–æ—Ç–∞ –≤ Bitrix24
docker exec faqbot-bitrix24-bot python scripts/register_bot.py
```

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ FAQ

–ß–µ—Ä–µ–∑ –≤–µ–±-–∞–¥–º–∏–Ω–∫—É `/faq-admin` –∏–ª–∏ API:
- FAQ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ ChromaDB
- –ë–æ—Ç—ã –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ (hot reload)
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –õ–æ–≥–∏
docker-compose -f docker-compose.production.yml logs -f

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∏—Å–∫–∞
# –í–µ–±-–∞–¥–º–∏–Ω–∫–∞ ‚Üí –õ–æ–≥–∏ ‚Üí –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º –ø–æ–∏—Å–∫–∞

# Health check
curl http://localhost:5000/health
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–í production —Ä–µ–∂–∏–º–µ (`ENVIRONMENT=production`):
- ‚úÖ CORS –ø—Ä–æ–≤–µ—Ä–∫–∞ (—Ç–æ–ª—å–∫–æ BITRIX24_DOMAIN)
- ‚úÖ JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- ‚úÖ Content Security Policy (CSP)
- ‚úÖ Origin validation
- ‚úÖ –†–æ–ª–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (admin/observer)

## –õ–∏—Ü–µ–Ω–∑–∏—è

–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∞–Ω–∏–∏.
